<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Detalle de medicamento</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <a href="index.html" class="volver">← Volver al catálogo</a>
  <h1 id="titulo"></h1>

  <ul id="info" class="detalle"></ul>

<script>
const id = new URLSearchParams(location.search).get('id');

fetch(`/medicamentos/${id}`)
  .then(r => {
    if (!r.ok) throw new Error('No encontrado');
    return r.json();
  })
  .then(m => {
    document.getElementById('titulo').textContent = m.nombre;
    document.getElementById('info').innerHTML = `
      <li><strong>Categoría:</strong> ${m.categoria}</li>
      <li><strong>Precio:</strong> €${m.precio.toFixed(2)}</li>
      <li><strong>Stock:</strong> ${m.stock}</li>
      <li><strong>Proveedor:</strong> ${m.proveedor}</li>
      <li><strong>Disponible:</strong> ${m.disponible ? 'Sí' : 'No'}</li>`;
  })
  .catch(() => document.body.innerHTML =
        '<p class="error">Medicamento no encontrado.</p>');
</script>
</body>
</html>
