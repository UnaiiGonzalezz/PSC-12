<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalle de Medicamento</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav>
        <a href="index.html">Catálogo</a> |
        <a href="cliente.html">Clientes</a> |
        <a href="compra.html">Ver compra</a> |
        <a href="nueva-compra.html">Nueva compra</a> |
        <a href="admin.html">Admin</a>
    </nav>

    <a href="index.html" class="volver">← Volver al catálogo</a>
    <h1 id="titulo"></h1>

    <ul id="info" class="detalle"></ul>

    <script>
        // Obtener el ID del medicamento de la URL
        const id = new URLSearchParams(location.search).get('id');

        // Fetch para obtener los detalles del medicamento desde la API
        fetch(`/medicamentos/${id}`)
            .then(r => {
                if (!r.ok) throw new Error('No encontrado');
                return r.json();
            })
            .then(m => {
                // Mostrar la información del medicamento
                document.getElementById('titulo').textContent = m.nombre;
                document.getElementById('info').innerHTML = `
                    <li><strong>Categoría:</strong> ${m.categoria}</li>
                    <li><strong>Precio:</strong> €${m.precio.toFixed(2)}</li>
                    <li><strong>Stock:</strong> ${m.stock}</li>
                    <li><strong>Proveedor:</strong> ${m.proveedor}</li>
                    <li><strong>Disponible:</strong> ${m.disponible ? 'Sí' : 'No'}</li>
                `;
            })
            .catch(() => document.body.innerHTML =
                '<p class="error">Medicamento no encontrado.</p>');
    </script>
</body>
</html>
